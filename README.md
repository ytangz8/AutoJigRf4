# AutoJigRf4

![Python Version](https://img.shields.io/badge/python-3.6+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

一个为《俄罗斯钓鱼 4》(Russian Fishing 4) 专门设计的轻量级自动化辅助工具。该脚本能够模拟鼠标左键的周期性长按与释放，并具备智能窗口感知功能。

## ✨ 功能特性

- **窗口安全过滤**：利用 `pygetwindow` 实时监测。脚本仅在游戏窗口处于最前端时才会执行鼠标操作，有效防止在切换到网页或其他程序时发生误触。
- **即时中断响应**：在“模拟按压”或“等待间隔”期间，脚本会以 50ms 的频率轮询键盘状态，确保按下停止键时能立即中断，无需等待循环结束。
- **自动复位保护**：当用户按下停止键或程序异常中断时，脚本会自动执行 `mouseUp` 确保鼠标按键被正常释放，避免系统鼠标锁定。
- **简洁的控制逻辑**：全局热键监听，无需最小化游戏即可通过键盘轻松控制。

## 📦 快速开始

### 1. 环境准备
确保你的系统中已安装 Python 3.x。

### 2. 安装依赖
打开终端（Terminal）或命令提示符，安装项目所需的第三方库：
```bash
pip install pyautogui keyboard pygetwindow
```
### 3. 运行脚本
将脚本下载到本地后，在命令行运行：

```bash
python main.py
```

## 🎮 操作说明

| 动作 | 按键 | 说明 |
| :--- | :--- | :--- |
| **开始工作** | `[` | 进入监控状态，检测到游戏窗口即开始循环逻辑 |
| **停止 / 待命** | `]` | 立即释放鼠标并停止循环，回到等待启动指令的状态 |
| **重新开始 / 重置** | `/` | 完全中断当前逻辑并重新等待 `[` 指令 |
| **彻底退出** | `Ctrl + C` | 在控制台中终止脚本进程 |

## ⚙️ 参数调整

你可以根据具体的钓鱼需求修改脚本顶部的配置参数：

* `hold_time = 0.5`：鼠标左键按住的持续时间（秒）。
* `gap_time = 2.0`：两次按压之间的停顿时间（秒）。
* `TARGET_WINDOW_TITLE = "Russian Fishing 4"`：目标窗口标题关键词。

## 🛠 技术实现逻辑

1. **Wait State**: 脚本启动后使用 `keyboard.wait('[')` 进入阻塞等待，降低空闲时的 CPU 占用。
2. **Active State**: 激活后程序进入**双层 `while` 循环架构**，外层负责监控生命周期，内层负责执行具体动作。
3. **Window Check**: 在每一轮操作开始前，通过 `pygetwindow` 实时验证当前活跃窗口，确保操作的**原子性**（即操作不会在非游戏窗口意外发生）。
4. **Safety Polling**: 为了提高程序的灵敏度，在所有延时（Sleep）环节均采用了**分段轮询（Polling）**机制。即使在等待期间，脚本也能以 50ms 的频率捕捉中断指令。

## ⚠️ 免责声明 (Disclaimer)

> **请在使用前仔细阅读以下内容：**

* **学习用途**：本项目仅用于 Python 自动化模拟及窗口管理技术的学习与交流。
* **风险提示**：使用任何形式的辅助脚本均可能面临游戏账号被封禁的风险。作者不对因使用本工具导致的任何账号损失、系统问题或潜在的游戏处罚负责。
* **公平游戏**：请在符合游戏服务协议的前提下合理使用。

## 📄 许可证

本项目基于 **[MIT License](LICENSE)** 开源。